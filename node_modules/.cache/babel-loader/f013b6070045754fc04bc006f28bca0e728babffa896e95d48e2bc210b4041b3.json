{"ast":null,"code":"var _jsxFileName = \"/Users/rohit/Desktop/projects/FinVote/src/components/Voting.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect, useCallback } from 'react';\n// import { ethers } from 'ethers';\n// import axios from 'axios';\n// import { contractAbi, contractAddress } from './constant';\n// import Login from './Login';\n// import Finished from './Finished';\n// import Connected from './Connected';\n\n// function Voting() {\n//     const [provider, setProvider] = useState(null);\n//     const [account, setAccount] = useState(null);\n//     const [isConnected, setIsConnected] = useState(false);  \n//     const [votingStatus, setVotingStatus] = useState(true);  \n//     const [remainingTime, setRemainingTime] = useState('');\n//     const [candidates, setCandidates] = useState([]);\n//     const [number, setNumber] = useState('');\n//     const [canVote, setCanVote] = useState(true);\n//     const [newCandidateName, setNewCandidateName] = useState('');\n//     const [newCandidateParty, setNewCandidateParty] = useState('');\n//     const [newCandidateArea, setNewCandidateArea] = useState('');\n//     const [error, setError] = useState(\"\");\n//     const [citizenData, setCitizenData] = useState(null);\n\n//     const getContract = useCallback(async () => {\n//         if (!provider) return null;\n//         const signer = provider.getSigner();\n//         return new ethers.Contract(contractAddress, contractAbi, signer);\n//     }, [provider]);\n\n//     const fetchInitialData = useCallback(async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const [candidatesList, time, status] = await Promise.all([\n//                 contract.getAllVotesOfCandidates(),\n//                 contract.getRemainingTime(),\n//                 contract.getVotingStatus()\n//             ]);\n\n//             if (Array.isArray(candidatesList)) {\n//                 const formattedCandidates = candidatesList.map((candidate, index) => ({\n//                     index,\n//                     name: candidate.name,\n//                     voteCount: candidate.voteCount.toNumber(),\n//                     party: candidate.party,\n//                     area: candidate.area\n//                 }));\n//                 setCandidates(formattedCandidates);\n//             }\n\n//             setRemainingTime(parseInt(time.toString(), 10));\n//             setVotingStatus(status);\n//         } catch (error) {\n//             console.error('Error fetching initial data:', error);\n//         }\n//     }, [getContract]);\n\n//     useEffect(() => {\n//         if (provider) {\n//             fetchInitialData();\n//         }\n//     }, [provider, fetchInitialData]);\n\n//     useEffect(() => {\n//         if (window.ethereum) {\n//             window.ethereum.on('accountsChanged', handleAccountsChanged);\n//         }\n\n//         return () => {\n//             if (window.ethereum) {\n//                 window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n//             }\n//         };\n//     }, []);\n\n// const fetchCitizenData = async (aadhar) => {\n//     if (aadhar === \"\") {\n//         setError(\"Aadhaar Number is required.\");\n//         return;\n//     }\n\n//     try {\n//         const response = await axios.get(`http://localhost:4000/users/${aadhar}`);\n//         setCitizenData(response.data);\n//         setError(\"\");\n//     } catch (error) {\n//         console.error('Error fetching citizen data:', error);\n//         setError(\"User not found or server error.\");\n//         setCitizenData(null);\n//     }\n// };\n\n//     const vote = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const tx = await contract.vote(number);\n//             await tx.wait();\n//             await checkVotingEligibility();\n//             await fetchInitialData();\n//         } catch (error) {\n//             console.error(\"Error voting:\", error);\n//         }\n//     };\n\n//     const checkVotingEligibility = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const voteStatus = await contract.voters(account);\n//             setCanVote(voteStatus);\n//         } catch (error) {\n//             console.error(\"Error checking eligibility:\", error);\n//         }\n//     };\n\n//     const handleAccountsChanged = (accounts) => {\n//         if (accounts.length > 0 && account !== accounts[0]) {\n//             setAccount(accounts[0]);\n//             checkVotingEligibility();\n//         } else {\n//             setIsConnected(false);\n//             setAccount(null);\n//         }\n//     };\n\n//     const connectToMetamask = async () => {\n//         if (!window.ethereum) {\n//             console.error(\"Metamask is not detected in the browser\");\n//             return;\n//         }\n\n//         try {\n//             const web3Provider = new ethers.providers.Web3Provider(window.ethereum);\n//             await web3Provider.send(\"eth_requestAccounts\", []);\n//             const signer = web3Provider.getSigner();\n//             const address = await signer.getAddress();\n\n//             setProvider(web3Provider);\n//             setAccount(address);\n//             setIsConnected(true);\n\n//             console.log(\"Metamask Connected : \" + address);\n//         } catch (err) {\n//             console.error(\"Connection error:\", err);\n//         }\n//     };\n\n//     const addCandidate = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const tx = await contract.addCandidate(\n//                 newCandidateName, \n//                 newCandidateParty, \n//                 newCandidateArea, \n//                 { gasLimit: 500000 }\n//             );\n//             await tx.wait();\n//             await fetchInitialData();\n//         } catch (err) {\n//             console.error(\"Error adding candidate:\", err.message);\n//         }\n//     };\n\n//     const getResult = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return { name: '', voteCount: 0 };\n\n//             const result = await contract.getResults();\n\n//             if (!Array.isArray(result) || result.length < 2) {\n//                 return { name: '', voteCount: 0 };\n//             }\n\n//             const [winningCandidate, winningVoteCount] = result;\n//             return {\n//                 name: winningCandidate || '',\n//                 voteCount: winningVoteCount ? winningVoteCount.toNumber() : 0\n//             };\n//         } catch (error) {\n//             console.error('Error getting results:', error);\n//             return { name: '', voteCount: 0 };\n//         }\n//     };\n\n//     return (\n//         <div className=\"App\">\n//             {votingStatus ? (\n//                 isConnected ? (\n//                     <Connected\n//                         account={account}\n//                         candidates={candidates}\n//                         fetchCitizenData={fetchCitizenData}\n//                         citizenData={citizenData}\n//                         remainingTime={remainingTime}\n//                         number={number}\n//                         handleNumberChange={(e) => setNumber(e.target.value)}\n//                         voteFunction={vote}\n//                         showButton={canVote}\n//                         addCandidate={addCandidate}\n//                         handleCandidateNameChange={(e) => setNewCandidateName(e.target.value)}\n//                         newCandidateName={newCandidateName}\n//                         newCandidateParty={newCandidateParty}\n//                         setNewCandidateParty={setNewCandidateParty}\n//                         newCandidateArea={newCandidateArea}\n//                         setNewCandidateArea={setNewCandidateArea}\n//                         onWalletAddressChange={() => {\n//                             setIsConnected(false);\n//                             setAccount(null);\n//                         }}\n//                     />\n//                 ) : (\n//                     <Login\n//                         connectWallet={connectToMetamask}\n//                         fetchCitizenData={fetchCitizenData}\n//                         citizenData={citizenData} \n//                         error={error} \n//                         setError={setError} \n//                     />\n//                 )\n//             ) : (\n//                 <Finished getResult={getResult} />\n//             )}\n//         </div>\n//     );\n// }\n\n// export default Voting;\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { ethers } from 'ethers';\nimport axios from 'axios';\nimport { contractAbi, contractAddress } from './constant';\nimport Login from './Login';\nimport Connected from './Connected';\nimport Finished from './Finished';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Voting() {\n  _s();\n  const [state, setState] = useState({\n    provider: null,\n    account: null,\n    contract: null,\n    isConnected: false,\n    isLoading: true,\n    votingStatus: false,\n    remainingTime: '',\n    candidates: [],\n    number: '',\n    canVote: true,\n    error: \"\",\n    citizenData: null\n  });\n\n  // Initialize contract once\n  const initializeContract = useCallback(async () => {\n    if (!window.ethereum) {\n      console.error(\"Metamask not detected\");\n      return null;\n    }\n    try {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", []);\n      const signer = provider.getSigner();\n      const contract = new ethers.Contract(contractAddress, contractAbi, signer);\n      const address = await signer.getAddress();\n      setState(prev => ({\n        ...prev,\n        provider,\n        contract,\n        account: address,\n        isConnected: true\n      }));\n      return contract;\n    } catch (error) {\n      console.error(\"Failed to initialize contract:\", error);\n      return null;\n    }\n  }, []);\n\n  // Fetch blockchain data\n  const fetchBlockchainData = useCallback(async contract => {\n    if (!contract) return;\n    try {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      const [candidatesList, time, status, voteStatus] = await Promise.all([contract.getAllVotesOfCandidates(), contract.getRemainingTime(), contract.getVotingStatus(), contract.voters(state.account)]);\n      const formattedCandidates = candidatesList.map((candidate, index) => ({\n        index,\n        name: candidate.name,\n        voteCount: candidate.voteCount.toNumber(),\n        party: candidate.party,\n        area: candidate.area\n      }));\n      setState(prev => ({\n        ...prev,\n        candidates: formattedCandidates,\n        remainingTime: parseInt(time.toString(), 10),\n        votingStatus: status,\n        canVote: voteStatus,\n        isLoading: false\n      }));\n    } catch (error) {\n      console.error(\"Error fetching blockchain data:\", error);\n      setState(prev => ({\n        ...prev,\n        isLoading: false\n      }));\n    }\n  }, [state.account]);\n\n  // Initialize on mount\n  useEffect(() => {\n    const init = async () => {\n      const contract = await initializeContract();\n      if (contract) {\n        await fetchBlockchainData(contract);\n      }\n    };\n    init();\n  }, [initializeContract]);\n\n  // Handle MetaMask connection\n  const connectToMetamask = async () => {\n    const contract = await initializeContract();\n    if (contract) {\n      await fetchBlockchainData(contract);\n    }\n  };\n\n  // Handle voting\n  const vote = async () => {\n    if (!state.contract || !state.number) return;\n    try {\n      const tx = await state.contract.vote(state.number);\n      await tx.wait();\n      await fetchBlockchainData(state.contract);\n    } catch (error) {\n      console.error(\"Error voting:\", error);\n    }\n  };\n\n  // ... rest of your functions ...\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: state.votingStatus ? state.isConnected ? /*#__PURE__*/_jsxDEV(Connected, {\n      account: state.account,\n      candidates: state.candidates,\n      fetchCitizenData: fetchCitizenData,\n      citizenData: state.citizenData,\n      remainingTime: state.remainingTime,\n      number: state.number,\n      handleNumberChange: e => setState(prev => ({\n        ...prev,\n        number: e.target.value\n      })),\n      voteFunction: vote,\n      showButton: state.canVote,\n      onWalletAddressChange: () => setState(prev => ({\n        ...prev,\n        isConnected: false,\n        account: null\n      })),\n      isLoading: state.isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {\n      connectWallet: connectToMetamask,\n      fetchCitizenData: fetchCitizenData,\n      citizenData: state.citizenData,\n      error: state.error,\n      setError: error => setState(prev => ({\n        ...prev,\n        error\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Finished, {\n      getResult: getResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 9\n  }, this);\n}\n_s(Voting, \"UyyurfsK9m3c4GEutdAyU0QF2WU=\");\n_c = Voting;\nexport default Voting;\nvar _c;\n$RefreshReg$(_c, \"Voting\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","ethers","axios","contractAbi","contractAddress","Login","Connected","Finished","jsxDEV","_jsxDEV","Voting","_s","state","setState","provider","account","contract","isConnected","isLoading","votingStatus","remainingTime","candidates","number","canVote","error","citizenData","initializeContract","window","ethereum","console","providers","Web3Provider","send","signer","getSigner","Contract","address","getAddress","prev","fetchBlockchainData","candidatesList","time","status","voteStatus","Promise","all","getAllVotesOfCandidates","getRemainingTime","getVotingStatus","voters","formattedCandidates","map","candidate","index","name","voteCount","toNumber","party","area","parseInt","toString","init","connectToMetamask","vote","tx","wait","className","children","fetchCitizenData","handleNumberChange","e","target","value","voteFunction","showButton","onWalletAddressChange","fileName","_jsxFileName","lineNumber","columnNumber","connectWallet","setError","getResult","_c","$RefreshReg$"],"sources":["/Users/rohit/Desktop/projects/FinVote/src/components/Voting.js"],"sourcesContent":["\n// import React, { useState, useEffect, useCallback } from 'react';\n// import { ethers } from 'ethers';\n// import axios from 'axios';\n// import { contractAbi, contractAddress } from './constant';\n// import Login from './Login';\n// import Finished from './Finished';\n// import Connected from './Connected';\n\n// function Voting() {\n//     const [provider, setProvider] = useState(null);\n//     const [account, setAccount] = useState(null);\n//     const [isConnected, setIsConnected] = useState(false);  \n//     const [votingStatus, setVotingStatus] = useState(true);  \n//     const [remainingTime, setRemainingTime] = useState('');\n//     const [candidates, setCandidates] = useState([]);\n//     const [number, setNumber] = useState('');\n//     const [canVote, setCanVote] = useState(true);\n//     const [newCandidateName, setNewCandidateName] = useState('');\n//     const [newCandidateParty, setNewCandidateParty] = useState('');\n//     const [newCandidateArea, setNewCandidateArea] = useState('');\n//     const [error, setError] = useState(\"\");\n//     const [citizenData, setCitizenData] = useState(null);\n\n//     const getContract = useCallback(async () => {\n//         if (!provider) return null;\n//         const signer = provider.getSigner();\n//         return new ethers.Contract(contractAddress, contractAbi, signer);\n//     }, [provider]);\n\n//     const fetchInitialData = useCallback(async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const [candidatesList, time, status] = await Promise.all([\n//                 contract.getAllVotesOfCandidates(),\n//                 contract.getRemainingTime(),\n//                 contract.getVotingStatus()\n//             ]);\n\n//             if (Array.isArray(candidatesList)) {\n//                 const formattedCandidates = candidatesList.map((candidate, index) => ({\n//                     index,\n//                     name: candidate.name,\n//                     voteCount: candidate.voteCount.toNumber(),\n//                     party: candidate.party,\n//                     area: candidate.area\n//                 }));\n//                 setCandidates(formattedCandidates);\n//             }\n\n//             setRemainingTime(parseInt(time.toString(), 10));\n//             setVotingStatus(status);\n//         } catch (error) {\n//             console.error('Error fetching initial data:', error);\n//         }\n//     }, [getContract]);\n\n//     useEffect(() => {\n//         if (provider) {\n//             fetchInitialData();\n//         }\n//     }, [provider, fetchInitialData]);\n\n//     useEffect(() => {\n//         if (window.ethereum) {\n//             window.ethereum.on('accountsChanged', handleAccountsChanged);\n//         }\n\n//         return () => {\n//             if (window.ethereum) {\n//                 window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n//             }\n//         };\n//     }, []);\n\n    // const fetchCitizenData = async (aadhar) => {\n    //     if (aadhar === \"\") {\n    //         setError(\"Aadhaar Number is required.\");\n    //         return;\n    //     }\n\n    //     try {\n    //         const response = await axios.get(`http://localhost:4000/users/${aadhar}`);\n    //         setCitizenData(response.data);\n    //         setError(\"\");\n    //     } catch (error) {\n    //         console.error('Error fetching citizen data:', error);\n    //         setError(\"User not found or server error.\");\n    //         setCitizenData(null);\n    //     }\n    // };\n\n//     const vote = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const tx = await contract.vote(number);\n//             await tx.wait();\n//             await checkVotingEligibility();\n//             await fetchInitialData();\n//         } catch (error) {\n//             console.error(\"Error voting:\", error);\n//         }\n//     };\n\n//     const checkVotingEligibility = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const voteStatus = await contract.voters(account);\n//             setCanVote(voteStatus);\n//         } catch (error) {\n//             console.error(\"Error checking eligibility:\", error);\n//         }\n//     };\n\n//     const handleAccountsChanged = (accounts) => {\n//         if (accounts.length > 0 && account !== accounts[0]) {\n//             setAccount(accounts[0]);\n//             checkVotingEligibility();\n//         } else {\n//             setIsConnected(false);\n//             setAccount(null);\n//         }\n//     };\n\n//     const connectToMetamask = async () => {\n//         if (!window.ethereum) {\n//             console.error(\"Metamask is not detected in the browser\");\n//             return;\n//         }\n\n//         try {\n//             const web3Provider = new ethers.providers.Web3Provider(window.ethereum);\n//             await web3Provider.send(\"eth_requestAccounts\", []);\n//             const signer = web3Provider.getSigner();\n//             const address = await signer.getAddress();\n\n//             setProvider(web3Provider);\n//             setAccount(address);\n//             setIsConnected(true);\n            \n//             console.log(\"Metamask Connected : \" + address);\n//         } catch (err) {\n//             console.error(\"Connection error:\", err);\n//         }\n//     };\n\n//     const addCandidate = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return;\n\n//             const tx = await contract.addCandidate(\n//                 newCandidateName, \n//                 newCandidateParty, \n//                 newCandidateArea, \n//                 { gasLimit: 500000 }\n//             );\n//             await tx.wait();\n//             await fetchInitialData();\n//         } catch (err) {\n//             console.error(\"Error adding candidate:\", err.message);\n//         }\n//     };\n\n//     const getResult = async () => {\n//         try {\n//             const contract = await getContract();\n//             if (!contract) return { name: '', voteCount: 0 };\n\n//             const result = await contract.getResults();\n            \n//             if (!Array.isArray(result) || result.length < 2) {\n//                 return { name: '', voteCount: 0 };\n//             }\n\n//             const [winningCandidate, winningVoteCount] = result;\n//             return {\n//                 name: winningCandidate || '',\n//                 voteCount: winningVoteCount ? winningVoteCount.toNumber() : 0\n//             };\n//         } catch (error) {\n//             console.error('Error getting results:', error);\n//             return { name: '', voteCount: 0 };\n//         }\n//     };\n\n//     return (\n//         <div className=\"App\">\n//             {votingStatus ? (\n//                 isConnected ? (\n//                     <Connected\n//                         account={account}\n//                         candidates={candidates}\n//                         fetchCitizenData={fetchCitizenData}\n//                         citizenData={citizenData}\n//                         remainingTime={remainingTime}\n//                         number={number}\n//                         handleNumberChange={(e) => setNumber(e.target.value)}\n//                         voteFunction={vote}\n//                         showButton={canVote}\n//                         addCandidate={addCandidate}\n//                         handleCandidateNameChange={(e) => setNewCandidateName(e.target.value)}\n//                         newCandidateName={newCandidateName}\n//                         newCandidateParty={newCandidateParty}\n//                         setNewCandidateParty={setNewCandidateParty}\n//                         newCandidateArea={newCandidateArea}\n//                         setNewCandidateArea={setNewCandidateArea}\n//                         onWalletAddressChange={() => {\n//                             setIsConnected(false);\n//                             setAccount(null);\n//                         }}\n//                     />\n//                 ) : (\n//                     <Login\n//                         connectWallet={connectToMetamask}\n//                         fetchCitizenData={fetchCitizenData}\n//                         citizenData={citizenData} \n//                         error={error} \n//                         setError={setError} \n//                     />\n//                 )\n//             ) : (\n//                 <Finished getResult={getResult} />\n//             )}\n//         </div>\n//     );\n// }\n\n// export default Voting;\n\n\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { ethers } from 'ethers';\nimport axios from 'axios';\nimport { contractAbi, contractAddress } from './constant';\nimport Login from './Login';\nimport Connected from './Connected';\nimport Finished from './Finished';\n\nfunction Voting() {\n    const [state, setState] = useState({\n        provider: null,\n        account: null,\n        contract: null,\n        isConnected: false,\n        isLoading: true,\n        votingStatus: false,\n        remainingTime: '',\n        candidates: [],\n        number: '',\n        canVote: true,\n        error: \"\",\n        citizenData: null\n    });\n\n    // Initialize contract once\n    const initializeContract = useCallback(async () => {\n        if (!window.ethereum) {\n            console.error(\"Metamask not detected\");\n            return null;\n        }\n\n        try {\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\n            await provider.send(\"eth_requestAccounts\", []);\n            const signer = provider.getSigner();\n            const contract = new ethers.Contract(contractAddress, contractAbi, signer);\n            const address = await signer.getAddress();\n\n            setState(prev => ({\n                ...prev,\n                provider,\n                contract,\n                account: address,\n                isConnected: true\n            }));\n\n            return contract;\n        } catch (error) {\n            console.error(\"Failed to initialize contract:\", error);\n            return null;\n        }\n    }, []);\n\n    // Fetch blockchain data\n    const fetchBlockchainData = useCallback(async (contract) => {\n        if (!contract) return;\n\n        try {\n            setState(prev => ({ ...prev, isLoading: true }));\n\n            const [candidatesList, time, status, voteStatus] = await Promise.all([\n                contract.getAllVotesOfCandidates(),\n                contract.getRemainingTime(),\n                contract.getVotingStatus(),\n                contract.voters(state.account)\n            ]);\n\n            const formattedCandidates = candidatesList.map((candidate, index) => ({\n                index,\n                name: candidate.name,\n                voteCount: candidate.voteCount.toNumber(),\n                party: candidate.party,\n                area: candidate.area\n            }));\n\n            setState(prev => ({\n                ...prev,\n                candidates: formattedCandidates,\n                remainingTime: parseInt(time.toString(), 10),\n                votingStatus: status,\n                canVote: voteStatus,\n                isLoading: false\n            }));\n        } catch (error) {\n            console.error(\"Error fetching blockchain data:\", error);\n            setState(prev => ({ ...prev, isLoading: false }));\n        }\n    }, [state.account]);\n\n    // Initialize on mount\n    useEffect(() => {\n        const init = async () => {\n            const contract = await initializeContract();\n            if (contract) {\n                await fetchBlockchainData(contract);\n            }\n        };\n\n        init();\n    }, [initializeContract]);\n\n    // Handle MetaMask connection\n    const connectToMetamask = async () => {\n        const contract = await initializeContract();\n        if (contract) {\n            await fetchBlockchainData(contract);\n        }\n    };\n\n    // Handle voting\n    const vote = async () => {\n        if (!state.contract || !state.number) return;\n\n        try {\n            const tx = await state.contract.vote(state.number);\n            await tx.wait();\n            await fetchBlockchainData(state.contract);\n        } catch (error) {\n            console.error(\"Error voting:\", error);\n        }\n    };\n\n\n    // ... rest of your functions ...\n\n    return (\n        <div className=\"App\">\n            {state.votingStatus ? (\n                state.isConnected ? (\n                    <Connected\n                        account={state.account}\n                        candidates={state.candidates}\n                        fetchCitizenData={fetchCitizenData}\n                        citizenData={state.citizenData}\n                        remainingTime={state.remainingTime}\n                        number={state.number}\n                        handleNumberChange={(e) => setState(prev => ({ ...prev, number: e.target.value }))}\n                        voteFunction={vote}\n                        showButton={state.canVote}\n                        onWalletAddressChange={() => setState(prev => ({ ...prev, isConnected: false, account: null }))}\n                        isLoading={state.isLoading}\n                    />\n                ) : (\n                    <Login\n                        connectWallet={connectToMetamask}\n                        fetchCitizenData={fetchCitizenData}\n                        citizenData={state.citizenData}\n                        error={state.error}\n                        setError={(error) => setState(prev => ({ ...prev, error }))}\n                    />\n                )\n            ) : (\n                <Finished getResult={getResult} />\n            )}\n        </div>\n    );\n}\n\nexport default Voting;"],"mappings":";;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEI;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,eAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}